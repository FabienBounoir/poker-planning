<script>
	import { onMount } from 'svelte';

	let theme = $state('');

	onMount(() => {
		const today = new Date();
		if (
			(today.getMonth() === 9 && today.getDate() >= 15) ||
			(today.getMonth() === 10 && today.getDate() <= 1)
		) {
			theme = 'halloween';
		}
	});
</script>

{#if theme === 'halloween'}
	<svg
		class="halloween"
		width="12vw"
		viewBox="0 0 133 147"
		fill="none"
		xmlns="http://www.w3.org/2000/svg"
	>
		<!-- Corps du blob (citrouille) -->
		<path
			d="M55.5601 117.006C83.0601 144.006 104.06 112.006 96.5601 96.0057C127.06 84.5057 114.56 53.5057 96.5601 49.5057C102.06 17.5057 71.5601 13.5057 59.5601 27.0057C35.5601 4.00569 14.5601 30.5057 21.0601 46.0057C-13.4398 55.5057 1.56015 89.5057 16.0601 92.5057C7.06009 129.006 42.5601 131.006 55.5601 117.006Z"
			fill="var(--halloween-body)"
		/>

		<!-- Cicatrices de citrouille (lignes verticales) -->
		<path
			d="M40 35C40 35 42 55 42 75C42 95 40 105 40 105"
			stroke="var(--halloween-scar)"
			stroke-width="2.5"
			stroke-linecap="round"
			opacity="0.6"
		/>
		<path
			d="M78 40C78 40 80 60 80 80C80 100 78 110 78 110"
			stroke="var(--halloween-scar)"
			stroke-width="2.5"
			stroke-linecap="round"
			opacity="0.6"
		/>

		<!-- Chapeau de sorcière -->
		<path d="M35 30L45 5L65 5L75 30L35 30Z" fill="var(--halloween-hat)" />
		<ellipse cx="55" cy="30" rx="25" ry="5" fill="var(--halloween-hat)" />
		<path d="M50 10L52 8L54 10L52 5L50 10Z" fill="#FFD700" />

		<!-- Bras gauche -->
		<path
			d="M96.9151 105.094C96.8818 105.327 96.6484 106.628 96.415 107.995C96.1816 109.362 95.7815 110.995 95.5481 111.629C95.2814 112.262 95.1814 112.896 95.3481 113.062C96.2483 113.963 107.818 117.33 110.018 117.33C113.219 117.33 115.119 113.829 113.419 111.062C112.619 109.762 111.752 109.362 106.584 107.961C104.384 107.394 101.35 106.394 99.8158 105.794C97.9154 105.061 97.0152 104.827 96.9151 105.094Z"
			fill="var(--halloween-arms)"
		/>
		<path
			d="M90.7471 119.297C89.5468 120.564 88.2131 121.831 87.7464 122.131C87.0462 122.598 86.9795 122.731 87.413 123.131C88.3799 124.065 92.3141 125.932 95.4148 126.932C101.116 128.766 106.251 129.6 114.586 130C117.887 130.166 120.687 130.3 120.787 130.333C120.887 130.333 121.921 131.433 123.088 132.8C124.255 134.167 125.555 135.434 125.989 135.634C128.056 136.568 130.69 135.701 131.59 133.801C132.624 131.6 132.157 130.533 128.123 125.865C126.455 123.965 124.822 122.365 124.188 122.131C123.455 121.798 121.621 121.664 118.587 121.664C109.918 121.664 99.4825 119.964 94.9814 117.83C93.9812 117.363 93.1143 116.997 93.0476 117.03C92.9809 117.03 91.9474 118.064 90.7471 119.297Z"
			fill="var(--halloween-arms)"
		/>

		<!-- Bras droit -->
		<path
			d="M63.5602 123.006C63.5602 123.106 63.8073 124.798 64.3074 125.632C67.1081 130.5 70.8757 133.834 75.7768 135.834C79.5777 137.368 84.0121 138.068 89.0132 137.935L93.4476 137.835L94.7146 140.902C95.4147 142.603 96.2483 144.37 96.5483 144.837C97.2818 145.97 98.5822 146.437 100.349 146.237C102.05 146.07 103.217 145.07 103.783 143.436C104.217 142.069 103.983 141.369 101.116 134.767C98.6488 129.2 98.1821 128.766 94.8813 129.133C85.9792 130.133 80.2445 129.466 76.777 127.032C76.1769 126.632 74.9766 126.366 73.0762 126.199C70.3755 125.999 67.6749 125.332 65.0076 124.198C63.6073 123.598 63.5602 122.672 63.5602 123.006Z"
			fill="var(--halloween-arms)"
		/>
		<path
			d="M88.5465 88.2899C87.2462 88.8567 86.0792 90.6238 86.0792 92.0241C86.0792 94.458 87.0795 95.5583 92.5807 99.0925C99.2156 103.327 103.383 104.827 113.486 106.494C116.953 107.094 117.12 107.094 118.42 106.494C120.854 105.394 121.721 102.893 120.421 100.726C119.687 99.5259 118.387 98.8591 116.086 98.4923C112.685 97.9922 107.784 96.9253 105.751 96.2585C102.683 95.2582 100.883 94.3247 96.1149 91.0906C91.7806 88.1566 90.2135 87.5898 88.5465 88.2899Z"
			fill="var(--halloween-arms)"
		/>

		<!-- Yeux triangulaires de citrouille (effrayants) -->
		<path d="M35 65L42 72L49 65L35 65Z" fill="var(--halloween-eyes)" />
		<path d="M63 65L70 72L77 65L63 65Z" fill="var(--halloween-eyes)" />

		<!-- Bouche en zigzag effrayante -->
		<path
			d="M38 85L43 90L48 85L53 90L58 85L63 90L68 85L73 90"
			stroke="var(--halloween-eyes)"
			stroke-width="3"
			fill="none"
			stroke-linecap="round"
			stroke-linejoin="round"
		/>

		<!-- Dents de la bouche -->
		<path
			d="M43 90L43 95M53 90L53 95M63 90L63 95"
			stroke="var(--halloween-eyes)"
			stroke-width="2.5"
			stroke-linecap="round"
		/>

		<!-- Étoiles magiques -->
		<path
			d="M16.5066 19.0829C17.2075 18.435 18.0419 17.8894 18.3756 17.8894C20.1111 17.8894 20.5783 16.6617 19.1766 15.7069C18.7427 15.4 18.1753 14.5475 17.9751 13.7973C17.3744 11.7513 16.8737 11.5126 15.8058 12.7743C15.2384 13.4222 14.3039 13.9678 13.4362 14.2065C11.7675 14.6157 11.5338 15.4341 12.8354 16.3207C13.2693 16.6276 13.8367 17.4801 14.0369 18.2304C14.671 20.3446 15.0715 20.481 16.5066 19.0829Z"
			fill="var(--halloween-stars)"
		/>
		<path
			d="M33.8784 11.1021C34.7706 8.60064 35.3883 7.62787 36.6579 6.75931C38.6139 5.36963 38.4423 4.57056 36.0746 3.80624C34.5304 3.31985 33.9127 2.90294 33.0549 1.72171C32.4715 0.922647 31.7852 0.193063 31.545 0.0888369C30.9617 -0.1891 30.1038 0.227805 30.1038 0.748936C30.1038 2.06913 28.7312 4.29263 27.3929 5.19592C25.4026 6.51612 25.5399 7.4889 27.839 8.18374C29.0743 8.5659 29.8636 9.12178 30.893 10.3725C32.4715 12.2833 33.398 12.4918 33.8784 11.1021Z"
			fill="var(--halloween-stars)"
		/>
	</svg>
{:else}
	<svg width="12vw" viewBox="0 0 133 147" fill="none" xmlns="http://www.w3.org/2000/svg">
		<path
			d="M96.9151 105.094C96.8818 105.327 96.6484 106.628 96.415 107.995C96.1816 109.362 95.7815 110.995 95.5481 111.629C95.2814 112.262 95.1814 112.896 95.3481 113.062C96.2483 113.963 107.818 117.33 110.018 117.33C113.219 117.33 115.119 113.829 113.419 111.062C112.619 109.762 111.752 109.362 106.584 107.961C104.384 107.394 101.35 106.394 99.8158 105.794C97.9154 105.061 97.0152 104.827 96.9151 105.094Z"
			fill="var(--first-color)"
		/>
		<path
			d="M90.7471 119.297C89.5468 120.564 88.2131 121.831 87.7464 122.131C87.0462 122.598 86.9795 122.731 87.413 123.131C88.3799 124.065 92.3141 125.932 95.4148 126.932C101.116 128.766 106.251 129.6 114.586 130C117.887 130.166 120.687 130.3 120.787 130.333C120.887 130.333 121.921 131.433 123.088 132.8C124.255 134.167 125.555 135.434 125.989 135.634C128.056 136.568 130.69 135.701 131.59 133.801C132.624 131.6 132.157 130.533 128.123 125.865C126.455 123.965 124.822 122.365 124.188 122.131C123.455 121.798 121.621 121.664 118.587 121.664C109.918 121.664 99.4825 119.964 94.9814 117.83C93.9812 117.363 93.1143 116.997 93.0476 117.03C92.9809 117.03 91.9474 118.064 90.7471 119.297Z"
			fill="var(--first-color)"
		/>
		<path
			d="M63.5602 123.006C63.5602 123.106 63.8073 124.798 64.3074 125.632C67.1081 130.5 70.8757 133.834 75.7768 135.834C79.5777 137.368 84.0121 138.068 89.0132 137.935L93.4476 137.835L94.7146 140.902C95.4147 142.603 96.2483 144.37 96.5483 144.837C97.2818 145.97 98.5822 146.437 100.349 146.237C102.05 146.07 103.217 145.07 103.783 143.436C104.217 142.069 103.983 141.369 101.116 134.767C98.6488 129.2 98.1821 128.766 94.8813 129.133C85.9792 130.133 80.2445 129.466 76.777 127.032C76.1769 126.632 74.9766 126.366 73.0762 126.199C70.3755 125.999 67.6749 125.332 65.0076 124.198C63.6073 123.598 63.5602 122.672 63.5602 123.006Z"
			fill="var(--first-color)"
		/>
		<path
			d="M55.5601 117.006C83.0601 144.006 104.06 112.006 96.5601 96.0057C127.06 84.5057 114.56 53.5057 96.5601 49.5057C102.06 17.5057 71.5601 13.5057 59.5601 27.0057C35.5601 4.00569 14.5601 30.5057 21.0601 46.0057C-13.4398 55.5057 1.56015 89.5057 16.0601 92.5057C7.06009 129.006 42.5601 131.006 55.5601 117.006Z"
			fill="var(--second-color)"
		/>
		<path
			d="M28.6324 67.5851C27.7322 68.5853 27.8989 70.9192 29.0992 73.2531C30.8663 76.7872 33.8337 78.6543 37.7346 78.6543C42.2356 78.6543 45.5697 76.0537 47.2035 71.3193C47.6369 70.0523 47.6369 69.7522 47.2035 68.9187C46.1699 66.9182 43.736 67.5517 43.0692 70.019C42.8691 70.7858 42.1023 72.0194 41.4021 72.7863C40.1351 74.1533 40.1018 74.1533 37.7679 74.1533C35.5674 74.1533 35.3673 74.0866 34.2337 72.9863C33.4336 72.2195 32.8668 71.2193 32.5 69.9856C32.2333 68.9854 31.7665 67.8851 31.4664 67.5517C30.7996 66.8182 29.3326 66.8182 28.6324 67.5851Z"
			fill="var(--primary-950)"
		/>
		<path
			d="M53.9384 68.6853C51.5712 70.5524 54.3052 76.7205 58.5395 78.921C60.84 80.1213 64.5409 80.188 66.6414 79.0544C68.7085 77.9875 70.1756 76.5872 71.1424 74.7534C72.9762 71.4193 72.6095 68.9854 70.2756 68.9854C68.9753 68.9854 68.6085 69.3521 68.1084 71.1525C67.5749 73.153 66.0413 74.8201 64.2408 75.3202C61.0734 76.2204 58.2394 74.42 57.3392 70.8858C57.1058 69.9189 56.6057 68.9854 56.1389 68.6186C55.5602 68.0057 55.0602 68.0057 53.9384 68.6853Z"
			fill="var(--primary-950)"
		/>
		<path
			d="M43.2359 80.3881C42.269 80.9549 42.069 81.3216 42.069 82.922C42.069 86.6562 44.8029 89.4569 48.8706 89.8903C52.1713 90.2237 55.0053 88.7567 56.439 85.956C57.2725 84.3223 57.2725 81.9551 56.4724 81.2216C55.172 80.0547 53.5717 80.7548 53.0716 82.6886C52.5381 84.6557 51.4045 85.656 49.7374 85.656C47.937 85.656 46.57 84.389 46.2366 82.4219C45.9365 80.4881 44.6029 79.6212 43.2359 80.3881Z"
			fill="var(--primary-950)"
		/>
		<path
			d="M88.5465 88.2899C87.2462 88.8567 86.0792 90.6238 86.0792 92.0241C86.0792 94.458 87.0795 95.5583 92.5807 99.0925C99.2156 103.327 103.383 104.827 113.486 106.494C116.953 107.094 117.12 107.094 118.42 106.494C120.854 105.394 121.721 102.893 120.421 100.726C119.687 99.5259 118.387 98.8591 116.086 98.4923C112.685 97.9922 107.784 96.9253 105.751 96.2585C102.683 95.2582 100.883 94.3247 96.1149 91.0906C91.7806 88.1566 90.2135 87.5898 88.5465 88.2899Z"
			fill="var(--first-color)"
		/>
		<path
			d="M16.5066 19.0829C17.2075 18.435 18.0419 17.8894 18.3756 17.8894C20.1111 17.8894 20.5783 16.6617 19.1766 15.7069C18.7427 15.4 18.1753 14.5475 17.9751 13.7973C17.3744 11.7513 16.8737 11.5126 15.8058 12.7743C15.2384 13.4222 14.3039 13.9678 13.4362 14.2065C11.7675 14.6157 11.5338 15.4341 12.8354 16.3207C13.2693 16.6276 13.8367 17.4801 14.0369 18.2304C14.671 20.3446 15.0715 20.481 16.5066 19.0829Z"
			fill="var(--second-color)"
		/>
		<path
			d="M33.8784 11.1021C34.7706 8.60064 35.3883 7.62787 36.6579 6.75931C38.6139 5.36963 38.4423 4.57056 36.0746 3.80624C34.5304 3.31985 33.9127 2.90294 33.0549 1.72171C32.4715 0.922647 31.7852 0.193063 31.545 0.0888369C30.9617 -0.1891 30.1038 0.227805 30.1038 0.748936C30.1038 2.06913 28.7312 4.29263 27.3929 5.19592C25.4026 6.51612 25.5399 7.4889 27.839 8.18374C29.0743 8.5659 29.8636 9.12178 30.893 10.3725C32.4715 12.2833 33.398 12.4918 33.8784 11.1021Z"
			fill="var(--second-color)"
		/>
	</svg>
{/if}

<style lang="scss">
	svg {
		position: absolute;
		top: 50%;
		right: 10%;
		transform: translateY(-50%);
		animation: float 5s ease-in-out infinite;
		transform-origin: center;

		/* Variables pour la version normale */
		--blob-body: #ff914d;
		--blob-arms: #ff914d;
		--blob-eyes: #1a1a1a;
		--blob-stars: #ffd93d;

		/* Variables pour Halloween */
		--halloween-body: #ff8c00;
		--halloween-arms: #ff6b00;
		--halloween-eyes: #000000;
		--halloween-hat: #4b0082;
		--halloween-scar: #d97700;
		--halloween-stars: #9400d3;

		--first-color: var(--primary-950);
		--second-color: var(--primary-500);

		transition: scale 0.3s !important;
	}

	/* Animation Halloween uniquement */
	svg.halloween {
		animation:
			float 5s ease-in-out infinite,
			spookyGlow 3s ease-in-out infinite;
		filter: drop-shadow(0 0 10px rgba(255, 140, 0, 0.5));

		&:active {
			filter: drop-shadow(0 0 20px rgba(255, 140, 0, 0.8));
		}
	}

	@keyframes float {
		0% {
			transform: translateY(-50%) rotate(0deg);
		}
		50% {
			transform: translateY(-60%) rotate(-5deg);
		}
		100% {
			transform: translateY(-50%) rotate(0deg);
		}
	}

	@keyframes spookyGlow {
		0%,
		100% {
			filter: drop-shadow(0 0 10px rgba(255, 140, 0, 0.5));
		}
		50% {
			filter: drop-shadow(0 0 20px rgba(148, 0, 211, 0.7));
		}
	}

	@media (max-width: 1150px) {
		svg {
			display: none;
		}
	}

	@media (prefers-color-scheme: dark) {
		svg {
			--first-color: var(--primary-50);
			--second-color: var(--primary-500);

			/* Version normale en mode sombre */
			--blob-body: #ffa366;
			--blob-arms: #ffa366;
			--blob-eyes: #2a2a2a;
			--blob-stars: #ffe066;

			/* Halloween en mode sombre */
			--halloween-body: #ff9500;
			--halloween-arms: #ff7a00;
			--halloween-eyes: #1a1a1a;
			--halloween-hat: #5b0092;
			--halloween-scar: #e68600;
			--halloween-stars: #a020f0;
		}

		svg.halloween {
			filter: drop-shadow(0 0 15px rgba(255, 149, 0, 0.6));
		}
	}
</style>
